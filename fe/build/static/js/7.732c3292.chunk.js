(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[7],{160:function(e,n,t){},161:function(e,n,t){},196:function(e,n,t){"use strict";t.r(n);var i=t(144),a=t(26),r=t(0),c=t.n(r),l=t(28),s=t(141);t(160);function d(e,n){return n.length>0&&c.a.createElement("div",{className:"content has-text-centered"},c.a.createElement("strong",null,e),c.a.createElement("ul",null,n.map((function(e,n){var t=e.original;return c.a.createElement("li",{key:n},c.a.createElement("i",null,t))}))))}function u(e){var n=e.called,t=e.loading,i=e.data,a=e.error;return c.a.createElement("div",{className:"container has-text-centered"},n&&t&&c.a.createElement(s.a,{size:50}),i&&i.recipesByIngredients.length>0&&!t&&!a&&c.a.createElement("div",null,i.recipesByIngredients.map((function(e,n){var t=e.id,i=e.title,a=e.missedIngredients,r=e.usedIngredients;return c.a.createElement("div",{key:n,className:"columns is-centered"},c.a.createElement("div",{className:"card recipe-by-ingredient column is-one-third box"},c.a.createElement("header",{className:"card-title has-text-centered"},c.a.createElement(l.b,{className:"is-size-5",to:"/recipe/".concat(t)},i)),c.a.createElement("div",{className:"card-content"},d("Used Ingredients",r),d("Missed Ingredients",a))))}))))}t(161);var o=t(194),m=t(193),g=t(39),v=t(25),b=t(24),f=t(20);function p(){var e=Object(b.a)(["\n    query getCachedRecipes($ingredients: [String!]!) {\n        recipesByIngredients(ingredients: $ingredients) \n        {\n            id\n            title\n            missedIngredients {original, id, amount, unit}\n            usedIngredients {original, id, amount, unit}\n        }\n    }\n"]);return p=function(){return e},e}function h(){var e=Object(b.a)(["\n    mutation SetCache(\n        $ingredients: [String!] @client\n    ) {\n        saveIngredients(ingredients: $ingredients) @client\n    }\n"]);return h=function(){return e},e}function E(){var e=Object(b.a)(["\n    query Predict($query: String!) {\n        predictIngredient(query: $query) {\n            name\n        }\n    }\n"]);return E=function(){return e},e}function O(){var e=Object(b.a)(["\n    {\n        ingredients @client\n    }\n"]);return O=function(){return e},e}var j=Object(f.a)(O()),I=Object(f.a)(E()),y=Object(f.a)(h()),N=Object(f.a)(p()),S=["eggs","ham","milk"];function q(e,n,t){return e?[]:t&&t.predictIngredient.length>0?t.predictIngredient.map((function(e){return e.name})):n&&n.query.length>0?[]:S}n.default=function(){var e=Object(v.c)(j,{onCompleted:function(e){var n;return(null===e||void 0===e?void 0:null===(n=e.ingredients)||void 0===n?void 0:n.length)>0&&h({variables:{ingredients:null===e||void 0===e?void 0:e.ingredients}})}}).data,n=Object(v.a)(I),t=Object(a.a)(n,2),r=t[0],l=t[1],s=l.data,d=l.loading,b=l.variables,f=Object(v.a)(N,{onCompleted:function(){k({variables:w.values})}}),p=Object(a.a)(f,2),h=p[0],E=p[1],O=E.loading,S=E.data,C=E.error,x=E.called,$=Object(v.b)(y),k=Object(a.a)($,1)[0],w=Object(g.e)({initialValues:{ingredients:null===e||void 0===e?void 0:e.ingredients},onSubmit:function(e){h({variables:e})}});return c.a.createElement("section",{className:"section"},c.a.createElement("h1",{className:"title has-text-centered"},"Search for recipes by Ingredients"),c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-one-third"},c.a.createElement("form",{onSubmit:w.handleSubmit},c.a.createElement("div",{className:""},c.a.createElement(o.a,{onChange:function(e,n){return w.setFieldValue("ingredients",n)},id:"ingredient",disableClearable:!0,multiple:!0,value:w.values.ingredients?w.values.ingredients:[],filterOptions:function(e){return e.filter((function(e){return!w.values.ingredients||!w.values.ingredients.some((function(n){return n===e}))}))},options:q(d,b,s),renderInput:function(e){return c.a.createElement(m.a,Object.assign({},e,{onChange:function(e){var n=e.target;return r({variables:{query:n.value}})},id:"ingredients",label:"Ingredients",margin:"normal",variant:"outlined",fullWidth:!0,InputProps:Object(i.a)({},e.InputProps,{type:"search"})}))},renderOption:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"ingredients"},e))}})),c.a.createElement("p",{className:"has-text-centered"},c.a.createElement("button",{type:"submit",className:"button is-medium is-fullwidth is-info"},"Search"))))),c.a.createElement(u,{loading:O,data:S,error:C,called:x}))}}}]);
//# sourceMappingURL=7.732c3292.chunk.js.map