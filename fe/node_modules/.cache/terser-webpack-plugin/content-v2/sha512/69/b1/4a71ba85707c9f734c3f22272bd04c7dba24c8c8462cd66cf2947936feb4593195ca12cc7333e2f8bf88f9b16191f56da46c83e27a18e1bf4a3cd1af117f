{"map":"{\"version\":3,\"sources\":[\"static/js/8.db861ce8.chunk.js\"],\"names\":[\"this\",\"push\",\"142\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"d\",\"GET_RECIPE\",\"_Users_dude_Documents_stuff_recipes_fe_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__\",\"apollo_boost__WEBPACK_IMPORTED_MODULE_1__\",\"_templateObject\",\"data\",\"Object\",\"143\",\"flattenSteps\",\"_Users_dude_Documents_stuff_recipes_fe_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__\",\"acc\",\"instruction\",\"concat\",\"steps\",\"159\",\"exports\",\"195\",\"r\",\"slicedToArray\",\"react\",\"react_default\",\"n\",\"react_hooks_esm\",\"taggedTemplateLiteral\",\"bundle_esm\",\"_templateObject2\",\"GET_SHOPPING_LIST\",\"INGREDIENTS_SUBSCRIPTION\",\"react_router\",\"recipe_view_query\",\"CircularProgress\",\"objectSpread2\",\"lodash\",\"my_ingredients_query_templateObject\",\"UPDATE_INGREDIENTS\",\"Slider\",\"makeStyles\",\"createStyles\",\"useStyles\",\"theme\",\"root\",\"width\",\"ingredientSlider_IngredientSlider\",\"_ref\",\"amount\",\"amountFill\",\"unit\",\"update\",\"classes\",\"a\",\"createElement\",\"marks\",\"value\",\"label\",\"valueLabelDisplay\",\"className\",\"min\",\"max\",\"defaultValue\",\"onChangeCommitted\",\"e\",\"v\",\"processIngredient\",\"ingredient\",\"requiredFields\",\"fromEntries\",\"entries\",\"filter\",\"key\",\"some\",\"field\",\"my_ingredients_MyIngredients\",\"_ref4\",\"ingredientsInput\",\"ingredients\",\"listId\",\"userId\",\"_useMutation\",\"updateIngredients\",\"_update\",\"variables\",\"onSubscriptionData\",\"_ref5\",\"subscriptionData\",\"setIngredeints\",\"updates\",\"length\",\"map\",\"find\",\"_ref3\",\"id\",\"forceRender\",\"Date\",\"getTime\",\"mapIngredientUpdates\",\"shoppingListIngredients\",\"_React$useState\",\"useState\",\"_React$useState2\",\"Array\",\"from\",\"_ref6\",\"i\",\"original\",\"getVariables\",\"auth_module_query\",\"_useLazyQuery\",\"_useLazyQuery2\",\"getRecipe\",\"_useLazyQuery2$\",\"recipeData\",\"loadingRecipe\",\"loading\",\"user\",\"_useQuery2\",\"onCompleted\",\"recipeId\",\"getShoppingListById\",\"currentUser\",\"shoppingList\",\"recipe\",\"recipeById\",\"Fragment\",\"recipeTitle\",\"href\",\"src\",\"image\",\"alt\",\"title\",\"analyzedInstructions\",\"reduce\",\"_ref2\",\"step\"],\"mappings\":\"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\"}","code":"(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[8],{142:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return c}));var a=t(24),i=t(20);function r(){var e=Object(a.a)([\"\\n    query GetRecipeById($recipeId: Int!) {\\n        recipeById(recipeId: $recipeId) {\\n            title\\n            image\\n            analyzedInstructions {\\n                steps {\\n                    step\\n                }\\n            }\\n            extendedIngredients {\\n                id\\n                original\\n                amount\\n                unit\\n            }\\n        }\\n    }\\n\"]);return r=function(){return e},e}var c=Object(i.a)(r())},143:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return i}));var a=t(46);function i(e,n){return[].concat(Object(a.a)(e),Object(a.a)(n.steps))}},159:function(e,n,t){},195:function(e,n,t){\"use strict\";t.r(n);var a=t(26),i=t(0),r=t.n(i),c=t(25),u=t(24),s=t(20);function l(){var e=Object(u.a)([\"\\n  subscription ShoppingListIngredients($userId: String!) {\\n    shoppingListIngredients(userId: $userId) {\\n        id\\n        original\\n        amountFill\\n    }\\n  }\\n\"]);return l=function(){return e},e}function o(){var e=Object(u.a)([\"\\n    query getList($id: String!) {\\n        getShoppingListById(id: $id) {\\n            id\\n            recipeId\\n            recipeTitle\\n            ingredients {\\n                id\\n                original\\n                amount\\n                amountFill\\n                unit\\n            }\\n        }\\n    }\\n\"]);return o=function(){return e},e}var d=Object(s.a)(o()),m=Object(s.a)(l()),v=t(35),p=t(142),g=t(143),f=t(141),b=t(144),I=t(157);function j(){var e=Object(u.a)([\"\\n    mutation UpdateIngredients(\\n        $ingredients: [IngredientInput!]!\\n        $id: String!\\n    ) {\\n        updateShoppingList(\\n            ingredients: $ingredients\\n            id: $id\\n        ) {\\n            ingredients {\\n                id\\n                original\\n                amount\\n                amountFill\\n                unit\\n            }\\n        }\\n    }\\n\"]);return j=function(){return e},e}var O=Object(s.a)(j()),E=t(197),h=t(190),N=t(191),y=Object(h.a)((function(e){return Object(N.a)({root:{width:200}})}));var F=function(e){var n=e.amount,t=e.amountFill,a=e.unit,i=e.update,c=y();return r.a.createElement(E.a,{marks:[{value:0,label:\"0 \".concat(a)},{value:n,label:\"\".concat(n,\" \").concat(a)}],valueLabelDisplay:\"auto\",className:c.root,min:0,max:n,defaultValue:t,onChangeCommitted:function(e,n){i(n)}})};function S(e){var n=[\"amount\",\"original\",\"id\",\"amountFill\",\"unit\"];return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(a.a)(e,1)[0];return n.some((function(e){return e===t}))})))}var $=function(e){var n=e.ingredients,t=e.listId,i=e.userId,u=Object(c.b)(O),s=Object(a.a)(u,1)[0],l=Object(I.debounce)(s,300);Object(c.d)(m,{variables:{userId:i},onSubscriptionData:function(e){var t=e.subscriptionData;p(function(e,n){return(null===n||void 0===n?void 0:n.length)?e.map((function(e){var t=n.find((function(n){return n.id===e.id}));return Object(b.a)({},e,{},t,{forceRender:t?(new Date).getTime():0})})):e}(n,t.data.shoppingListIngredients))}});var o=r.a.useState(n),d=Object(a.a)(o,2),v=d[0],p=d[1];return r.a.createElement(\"ul\",null,Array.from(v).map((function(e,n){var a=e.amount,c=e.amountFill,u=e.unit,s=e.original,o=e.forceRender;return r.a.createElement(\"li\",{className:\"columns\",key:n+(null!==o&&void 0!==o?o:0)},r.a.createElement(\"div\",{className:\"column\"},s,\": \",c),r.a.createElement(\"div\",{className:\"column\"},r.a.createElement(F,{amount:a,amountFill:c,unit:u,update:function(e){return l(function(e,n,t,a){return{variables:{userId:t,id:a,ingredients:[Object(b.a)({},S(n),{amountFill:e})]}}}(e,v[n],i,t))}})),r.a.createElement(\"div\",{className:\"column\"},c,\" \",u))})))},L=(t(159),t(36));n.default=function(){var e=Object(v.g)().id,n=Object(c.a)(p.a),t=Object(a.a)(n,2),i=t[0],u=t[1],s=u.data,l=u.loading,o=Object(c.c)(L.a).data,m=Object(c.c)(d,{variables:{id:e},onCompleted:function(e){var n=e.getShoppingListById.recipeId;return i({variables:{recipeId:n}})}}),b=m.data,I=m.loading,j=null===o||void 0===o?void 0:o.currentUser.id,O=null===b||void 0===b?void 0:b.getShoppingListById,E=null===s||void 0===s?void 0:s.recipeById;return r.a.createElement(\"section\",{className:\"section\"},I&&r.a.createElement(\"div\",{className:\"container has-text-centered\"},r.a.createElement(f.a,null)),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",{className:\"title has-text-centered\"},O.recipeTitle),r.a.createElement(\"div\",{className:\"columns\"},r.a.createElement(\"div\",{className:\"column has-text-centered\"},r.a.createElement(\"a\",{href:\"#recipe-instructions\"},\"Recipe instructions\"))),r.a.createElement(\"div\",{className:\"columns is-two-thirds is-centered\"},r.a.createElement($,{userId:j,ingredients:O.ingredients,listId:O.id})),r.a.createElement(\"div\",{className:\"container\"},l&&r.a.createElement(\"div\",{className:\"container has-text-centered\"},r.a.createElement(f.a,null)),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"columns is-centered\"},r.a.createElement(\"img\",{className:\"is-one-quarter\",src:E.image,alt:E.title})),r.a.createElement(\"div\",{id:\"recipe-instructions\",className:\"container\"},E.analyzedInstructions.reduce(g.a,[]).map((function(e,n){var t=e.step;return r.a.createElement(\"div\",{key:n,className:\"instruction box has-text-centered\"},t)})))))))}}}]);","extractedComments":[]}