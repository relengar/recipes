{"ast":null,"code":"var _jsxFileName = \"/Users/dude/Documents/stuff/recipes/fe/src/components/recipe/random_recipe/RandomRecipe.tsx\";\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './RandomRecipe.css';\nimport CreateShoppingList from '../../shoppingList/create_shopping_list/CreateShoppingList';\nimport { CircularProgress } from '@material-ui/core';\nconst RECIPE = gql`\n    {\n      randomRecipes {\n        id\n        title\n        image\n        analyzedInstructions {\n          steps {\n            number\n            step\n          }\n        }\n        extendedIngredients {\n            id\n            original\n            amount\n            unit\n        }\n      }\n    }\n`;\n\nfunction RandomRecipe({\n  history\n}) {\n  const _useQuery = useQuery(RECIPE),\n        loading = _useQuery.loading,\n        error = _useQuery.error,\n        data = _useQuery.data,\n        refetch = _useQuery.refetch;\n\n  const _ref = data ? data : {\n    randomRecipes: null\n  },\n        recipes = _ref.randomRecipes;\n\n  return React.createElement(\"section\", {\n    className: \"section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Random recipe\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, loading && React.createElement(\"div\", {\n    className: \"container has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })), error && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Error: \", error), recipes && React.createElement(React.Fragment, null, recipes.map(({\n    id,\n    image,\n    title,\n    analyzedInstructions,\n    extendedIngredients\n  }) => {\n    return React.createElement(\"div\", {\n      className: \"container has-text-centered\",\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, title), React.createElement(\"img\", {\n      src: image,\n      alt: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, analyzedInstructions[0].steps.map(({\n      number,\n      step\n    }) => {\n      return React.createElement(\"li\", {\n        key: number,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, step));\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(CreateShoppingList, {\n      recipeId: id,\n      recipeTitle: title,\n      ingredients: extendedIngredients,\n      userId: '5e03a6a91841d1fce86f9292',\n      submitted: resp => history.push('/search'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })));\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => refetch(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Another\")))));\n}\n\nexport default RandomRecipe;","map":{"version":3,"sources":["/Users/dude/Documents/stuff/recipes/fe/src/components/recipe/random_recipe/RandomRecipe.tsx"],"names":["React","useQuery","gql","CreateShoppingList","CircularProgress","RECIPE","RandomRecipe","history","loading","error","data","refetch","randomRecipes","recipes","map","id","image","title","analyzedInstructions","extendedIngredients","steps","number","step","resp","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './RandomRecipe.css'\nimport CreateShoppingList from '../../shoppingList/create_shopping_list/CreateShoppingList';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { CircularProgress } from '@material-ui/core';\n\nconst RECIPE = gql`\n    {\n      randomRecipes {\n        id\n        title\n        image\n        analyzedInstructions {\n          steps {\n            number\n            step\n          }\n        }\n        extendedIngredients {\n            id\n            original\n            amount\n            unit\n        }\n      }\n    }\n`\n\nfunction RandomRecipe({history}: RouteComponentProps) {\n    const { loading, error, data, refetch } = useQuery(RECIPE);\n    const { randomRecipes: recipes } = data ? data : { randomRecipes: null };\n\n    return (\n        <section className=\"section\">\n            <h1 className=\"title has-text-centered\">Random recipe</h1>\n            <div>\n                {loading && <div className=\"container has-text-centered\"><CircularProgress /></div>}\n                {error && <p>Error: {error}</p>}\n                {\n                    recipes\n                    &&\n                    <>\n                        {recipes.map(({id, image, title, analyzedInstructions, extendedIngredients}: any) => {\n                            return (\n                                <div className=\"container has-text-centered\" key={id}>\n                                    <h4 className=\"subtitle\">{title}</h4>\n                                    <img src={image} alt={title}></img>\n                                    <ul>{analyzedInstructions[0].steps.map(({ number, step }: any) => {\n                                    return <li key={number}><p>{step}</p></li>\n                                    })}</ul>\n                                    <p>\n                                        <CreateShoppingList\n                                            recipeId={id}\n                                            recipeTitle={title}\n                                            ingredients={extendedIngredients}\n                                            userId={'5e03a6a91841d1fce86f9292'}\n                                            submitted={(resp: any) => history.push('/search')}\n                                        />\n                                    </p>\n                                </div>\n                            );\n                        })}\n                        <p>\n                            <button className=\"button\" onClick={() => refetch()}>Another</button>\n                        </p>\n                    </>\n                }\n            </div>\n        </section>\n    )\n}\n\n\nexport default RandomRecipe;"]},"metadata":{},"sourceType":"module"}