{"ast":null,"code":"var _jsxFileName = \"/Users/dude/Documents/stuff/recipes/fe/src/components/navbar/NavBar.tsx\";\nimport React from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { useQuery, useLazyQuery, useMutation } from '@apollo/react-hooks';\nimport AuthModule from './authModule/AuthModule';\nimport { AuthType } from './navbar.model';\nimport { CURRENT_USER, LOGOUT } from './authModule/auth_module_query';\nimport { MY_FREINDS } from '../friends/friends.query';\n\nfunction NavBar() {\n  var _ref;\n\n  const {\n    data,\n    loading,\n    client\n  } = useQuery(CURRENT_USER);\n  const [loadUser, {\n    data: lazyData\n  }] = useLazyQuery(CURRENT_USER);\n  const history = useHistory();\n  const [logOut] = useMutation(LOGOUT, {\n    onCompleted: () => {\n      client.resetStore();\n      history.push('/');\n    }\n  });\n  const user = (_ref = data === null || data === void 0 ? void 0 : data.currentUser) !== null && _ref !== void 0 ? _ref : lazyData === null || lazyData === void 0 ? void 0 : lazyData.currentUser;\n  const {\n    data: friends\n  } = useQuery(MY_FREINDS);\n  return React.createElement(\"nav\", {\n    className: \"navbar has-background-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    className: \"navbar-item\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Home\"), React.createElement(NavLink, {\n    className: \"navbar-item\",\n    to: \"/search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Search\"), user && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"navbar-item has-dropdown is-hoverable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"navbar-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Shopping Lists\"), React.createElement(\"div\", {\n    className: \"navbar-dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    to: `/shopping-lists/${user.id}`,\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"WTF: \", user.name), (friends === null || friends === void 0 ? void 0 : friends.myConnections) && friends.myConnections.map(friend => React.createElement(NavLink, {\n    key: friend.id,\n    to: `/shopping-lists/${friend.id}`,\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, friend.name)))), React.createElement(NavLink, {\n    className: \"navbar-item\",\n    to: \"/connections\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Connections\")), React.createElement(NavLink, {\n    className: \"navbar-item\",\n    to: \"/random\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Random Recipe\")), React.createElement(\"div\", {\n    className: \"navbar-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, loading && '...loading'), user && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, user.name), React.createElement(\"div\", {\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => logOut(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Log Out\"))), !loading && !user && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(AuthModule, {\n    authType: AuthType.LOGIN,\n    loadUser: loadUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"navbar-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(AuthModule, {\n    authType: AuthType.SIGNUP,\n    loadUser: loadUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))))));\n}\n\nexport default NavBar;","map":{"version":3,"sources":["/Users/dude/Documents/stuff/recipes/fe/src/components/navbar/NavBar.tsx"],"names":["React","NavLink","useHistory","useQuery","useLazyQuery","useMutation","AuthModule","AuthType","CURRENT_USER","LOGOUT","MY_FREINDS","NavBar","data","loading","client","loadUser","lazyData","history","logOut","onCompleted","resetStore","push","user","currentUser","friends","id","name","myConnections","map","friend","LOGIN","SIGNUP"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { useQuery, useLazyQuery, useMutation } from '@apollo/react-hooks';\nimport AuthModule from './authModule/AuthModule';\nimport { AuthType } from './navbar.model';\nimport { CURRENT_USER, LOGOUT } from './authModule/auth_module_query';\nimport { MY_FREINDS } from '../friends/friends.query';\n\nfunction NavBar() {\n    const { data, loading, client } = useQuery(CURRENT_USER);\n    const [ loadUser, { data: lazyData }] = useLazyQuery(CURRENT_USER);\n    const history = useHistory()\n    const [ logOut ] = useMutation(LOGOUT, {\n        onCompleted: () => {\n            client.resetStore();\n            history.push('/')\n        },\n    });\n\n    const user = data?.currentUser ?? lazyData?.currentUser;\n    const { data: friends } = useQuery(MY_FREINDS);\n\n    return (\n        <nav className=\"navbar has-background-light\">\n             <div className=\"navbar-menu\">\n                <div className=\"navbar-start\">\n                    <NavLink className=\"navbar-item\" to=\"/\">Home</NavLink>\n                    <NavLink className=\"navbar-item\" to=\"/search\">Search</NavLink>\n                    {\n                        user && \n                        <>\n                            <div className=\"navbar-item has-dropdown is-hoverable\">\n                                <a className=\"navbar-link\">Shopping Lists</a>\n                                <div className=\"navbar-dropdown\">\n                                    <NavLink to={`/shopping-lists/${user.id}`} className=\"navbar-item\">WTF: {user.name}</NavLink>\n                                    {\n                                        friends?.myConnections && \n                                        friends.myConnections.map((friend: any) =>\n                                            <NavLink key={friend.id} to={`/shopping-lists/${friend.id}`} className=\"navbar-item\">{friend.name}</NavLink>\n                                        ) \n                                    }\n                                </div>                            \n                            </div>\n                            <NavLink className=\"navbar-item\" to=\"/connections\">Connections</NavLink>\n                        </>\n                    }\n                    <NavLink className=\"navbar-item\" to=\"/random\">Random Recipe</NavLink>\n                </div>\n                <div className=\"navbar-end\">\n                    <div className=\"navbar-item\">{loading && '...loading'}</div>\n                    {\n                        user &&\n                        <>\n                            <div className=\"navbar-item\">{user.name}</div>\n                            <div className=\"navbar-item\"><button className=\"button\" onClick={() => logOut()}>Log Out</button></div>\n                        </>\n                    }\n                    {\n                        !loading && !user &&\n                        <>\n                            <div className=\"navbar-item\"><AuthModule authType={AuthType.LOGIN} loadUser={loadUser} /></div>\n                            <div className=\"navbar-item\"><AuthModule authType={AuthType.SIGNUP} loadUser={loadUser} /></div>\n                        </>\n                    }\n                </div>\n             </div>\n        </nav>\n    );\n}\n\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}