{"ast":null,"code":"var _jsxFileName = \"/Users/dude/Documents/stuff/recipes/fe/src/components/recipe/random_recipe/RandomRecipe.tsx\";\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './RandomRecipe.css';\nimport CreateShoppingList from '../../shoppingList/create_shopping_list/CreateShoppingList';\nimport { CircularProgress } from '@material-ui/core';\nimport { CURRENT_USER } from '../../navbar/authModule/auth_module_query';\nconst RECIPE = gql`\n    {\n      randomRecipes {\n        id\n        title\n        image\n        analyzedInstructions {\n          steps {\n            number\n            step\n          }\n        }\n        extendedIngredients {\n            id\n            original\n            amount\n            unit\n        }\n      }\n    }\n`;\n\nfunction RandomRecipe({\n  history\n}) {\n  const {\n    data: user\n  } = useQuery(CURRENT_USER);\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useQuery(RECIPE);\n  const {\n    randomRecipes: recipes\n  } = data ? data : {\n    randomRecipes: null\n  };\n  return React.createElement(\"section\", {\n    className: \"section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Random recipe\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, loading && React.createElement(\"div\", {\n    className: \"container has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), error && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Error: \", error), recipes && React.createElement(React.Fragment, null, recipes.map(({\n    id,\n    image,\n    title,\n    analyzedInstructions,\n    extendedIngredients\n  }) => {\n    var _analyzedInstructions;\n\n    return React.createElement(\"div\", {\n      className: \"container has-text-centered\",\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, title), React.createElement(\"img\", {\n      src: image,\n      alt: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, (_analyzedInstructions = analyzedInstructions[0]) === null || _analyzedInstructions === void 0 ? void 0 : _analyzedInstructions.steps.map(({\n      number,\n      step\n    }) => {\n      return React.createElement(\"li\", {\n        key: number,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, step));\n    })), (user === null || user === void 0 ? void 0 : user.currentUser) && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(CreateShoppingList, {\n      recipeId: id,\n      recipeTitle: title,\n      ingredients: extendedIngredients,\n      submitted: resp => history.push(`/shopping-lists/${user === null || user === void 0 ? void 0 : user.currentUser.id}`),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })));\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => refetch(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Another\")))));\n}\n\nexport default RandomRecipe;","map":{"version":3,"sources":["/Users/dude/Documents/stuff/recipes/fe/src/components/recipe/random_recipe/RandomRecipe.tsx"],"names":["React","useQuery","gql","CreateShoppingList","CircularProgress","CURRENT_USER","RECIPE","RandomRecipe","history","data","user","loading","error","refetch","randomRecipes","recipes","map","id","image","title","analyzedInstructions","extendedIngredients","steps","number","step","currentUser","resp","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './RandomRecipe.css'\nimport CreateShoppingList from '../../shoppingList/create_shopping_list/CreateShoppingList';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { CircularProgress } from '@material-ui/core';\nimport { CURRENT_USER } from '../../navbar/authModule/auth_module_query';\n\nconst RECIPE = gql`\n    {\n      randomRecipes {\n        id\n        title\n        image\n        analyzedInstructions {\n          steps {\n            number\n            step\n          }\n        }\n        extendedIngredients {\n            id\n            original\n            amount\n            unit\n        }\n      }\n    }\n`\n\nfunction RandomRecipe({history}: RouteComponentProps) {\n    const { data: user } = useQuery(CURRENT_USER);\n    const { loading, error, data, refetch } = useQuery(RECIPE);\n    const { randomRecipes: recipes } = data ? data : { randomRecipes: null };\n\n    return (\n        <section className=\"section\">\n            <h1 className=\"title has-text-centered\">Random recipe</h1>\n            <div>\n                {loading && <div className=\"container has-text-centered\"><CircularProgress /></div>}\n                {error && <p>Error: {error}</p>}\n                {\n                    recipes\n                    &&\n                    <>\n                        {recipes.map(({id, image, title, analyzedInstructions, extendedIngredients}: any) => {\n                            return (\n                                <div className=\"container has-text-centered\" key={id}>\n                                    <h4 className=\"subtitle\">{title}</h4>\n                                    <img src={image} alt={title}></img>\n                                    <ul>{analyzedInstructions[0]?.steps.map(({ number, step }: any) => {\n                                    return <li key={number}><p>{step}</p></li>\n                                    })}</ul>\n                                    {\n                                        user?.currentUser && \n                                        <p>\n                                            <CreateShoppingList\n                                                recipeId={id}\n                                                recipeTitle={title}\n                                                ingredients={extendedIngredients}\n                                                submitted={(resp: any) => history.push(`/shopping-lists/${user?.currentUser.id}`)}\n                                            />\n                                        </p>\n                                    }\n                                </div>\n                            );\n                        })}\n                        <p>\n                            <button className=\"button\" onClick={() => refetch()}>Another</button>\n                        </p>\n                    </>\n                }\n            </div>\n        </section>\n    )\n}\n\n\nexport default RandomRecipe;"]},"metadata":{},"sourceType":"module"}