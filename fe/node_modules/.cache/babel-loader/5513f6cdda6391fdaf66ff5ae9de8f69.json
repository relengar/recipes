{"ast":null,"code":"import { WebSocketLink } from 'apollo-link-ws';\nimport { split } from 'apollo-link';\nimport { HttpLink } from 'apollo-link-http';\nimport { getMainDefinition } from 'apollo-utilities';\nconst wsLink = new WebSocketLink({\n  uri: `ws://localhost:3000/graphql`,\n  options: {\n    reconnect: true\n  }\n});\nconst httpLink = new HttpLink({\n  uri: 'http://localhost:3000/graphql'\n});\nexport const link = split(({\n  query\n}) => {\n  const definition = getMainDefinition(query);\n  return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n}, wsLink, httpLink);","map":{"version":3,"sources":["/Users/dude/Documents/stuff/recipes/fe/src/websocketSetup.ts"],"names":["WebSocketLink","split","HttpLink","getMainDefinition","wsLink","uri","options","reconnect","httpLink","link","query","definition","kind","operation"],"mappings":"AAAA,SAASA,aAAT,QAA8B,gBAA9B;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,iBAAT,QAAkC,kBAAlC;AAEA,MAAMC,MAAM,GAAG,IAAIJ,aAAJ,CAAkB;AAC/BK,EAAAA,GAAG,EAAG,6BADyB;AAE/BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE;AADJ;AAFsB,CAAlB,CAAf;AAOA,MAAMC,QAAQ,GAAG,IAAIN,QAAJ,CAAa;AAC1BG,EAAAA,GAAG,EAAE;AADqB,CAAb,CAAjB;AAIA,OAAO,MAAMI,IAAI,GAAGR,KAAK,CACrB,CAAC;AAAES,EAAAA;AAAF,CAAD,KAAe;AACX,QAAMC,UAAU,GAAGR,iBAAiB,CAACO,KAAD,CAApC;AACA,SACEC,UAAU,CAACC,IAAX,KAAoB,qBAApB,IACAD,UAAU,CAACE,SAAX,KAAyB,cAF3B;AAIH,CAPoB,EAQrBT,MARqB,EASrBI,QATqB,CAAlB","sourcesContent":["import { WebSocketLink } from 'apollo-link-ws';\nimport { split } from 'apollo-link';\nimport { HttpLink } from 'apollo-link-http';\nimport { getMainDefinition } from 'apollo-utilities';\n\nconst wsLink = new WebSocketLink({\n  uri: `ws://localhost:3000/graphql`,\n  options: {\n    reconnect: true\n  }\n});\n\nconst httpLink = new HttpLink({\n    uri: 'http://localhost:3000/graphql'\n});\n\nexport const link = split(\n    ({ query }) => {\n        const definition = getMainDefinition(query);\n        return (\n          definition.kind === 'OperationDefinition' &&\n          definition.operation === 'subscription'\n        );\n    },\n    wsLink,\n    httpLink,\n);"]},"metadata":{},"sourceType":"module"}