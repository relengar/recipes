{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dude/Documents/stuff/recipes/fe/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    {\\n      randomRecipes {\\n        id\\n        title\\n        image\\n        analyzedInstructions {\\n          steps {\\n            number\\n            step\\n          }\\n        }\\n        extendedIngredients {\\n            id\\n            original\\n            amount\\n            unit\\n        }\\n      }\\n    }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import{useQuery}from'@apollo/react-hooks';import{gql}from'apollo-boost';import'./RandomRecipe.css';import CreateShoppingList from'../../shoppingList/create_shopping_list/CreateShoppingList';import{CircularProgress}from'@material-ui/core';import{CURRENT_USER}from'../../navbar/authModule/auth_module_query';var RECIPE=gql(_templateObject());function RandomRecipe(_ref){var history=_ref.history;var _useQuery=useQuery(CURRENT_USER),user=_useQuery.data;var _useQuery2=useQuery(RECIPE),loading=_useQuery2.loading,error=_useQuery2.error,data=_useQuery2.data,refetch=_useQuery2.refetch;var _ref2=data?data:{randomRecipes:null},recipes=_ref2.randomRecipes;return React.createElement(\"section\",{className:\"section\"},React.createElement(\"h1\",{className:\"title has-text-centered\"},\"Random recipe\"),React.createElement(\"div\",null,loading&&React.createElement(\"div\",{className:\"container has-text-centered\"},React.createElement(CircularProgress,null)),error&&React.createElement(\"p\",null,\"Error: \",error),recipes&&React.createElement(React.Fragment,null,recipes.map(function(_ref3){var _analyzedInstructions;var id=_ref3.id,image=_ref3.image,title=_ref3.title,analyzedInstructions=_ref3.analyzedInstructions,extendedIngredients=_ref3.extendedIngredients;return React.createElement(\"div\",{className:\"container has-text-centered\",key:id},React.createElement(\"h4\",{className:\"subtitle\"},title),React.createElement(\"img\",{className:\"random-recipe\",src:image,alt:title}),React.createElement(\"ul\",null,(_analyzedInstructions=analyzedInstructions[0])===null||_analyzedInstructions===void 0?void 0:_analyzedInstructions.steps.map(function(_ref4){var number=_ref4.number,step=_ref4.step;return React.createElement(\"li\",{key:number},React.createElement(\"p\",null,step));})),(user===null||user===void 0?void 0:user.currentUser)&&React.createElement(\"p\",null,React.createElement(CreateShoppingList,{recipeId:id,recipeTitle:title,ingredients:extendedIngredients,submitted:function submitted(resp){return history.push(\"/shopping-lists/\".concat(user===null||user===void 0?void 0:user.currentUser.id));}})));}),React.createElement(\"p\",null,React.createElement(\"button\",{className:\"button\",onClick:function onClick(){return refetch();}},\"Another\")))));}export default RandomRecipe;","map":{"version":3,"sources":["/Users/dude/Documents/stuff/recipes/fe/src/components/recipe/random_recipe/RandomRecipe.tsx"],"names":["React","useQuery","gql","CreateShoppingList","CircularProgress","CURRENT_USER","RECIPE","RandomRecipe","history","user","data","loading","error","refetch","randomRecipes","recipes","map","id","image","title","analyzedInstructions","extendedIngredients","steps","number","step","currentUser","resp","push"],"mappings":"ilBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,kBAAP,KAA+B,4DAA/B,CAEA,OAASC,gBAAT,KAAiC,mBAAjC,CACA,OAASC,YAAT,KAA6B,2CAA7B,CAEA,GAAMC,CAAAA,MAAM,CAAGJ,GAAH,mBAAZ,CAsBA,QAASK,CAAAA,YAAT,MAAsD,IAA/BC,CAAAA,OAA+B,MAA/BA,OAA+B,eAC3BP,QAAQ,CAACI,YAAD,CADmB,CACpCI,IADoC,WAC1CC,IAD0C,gBAERT,QAAQ,CAACK,MAAD,CAFA,CAE1CK,OAF0C,YAE1CA,OAF0C,CAEjCC,KAFiC,YAEjCA,KAFiC,CAE1BF,IAF0B,YAE1BA,IAF0B,CAEpBG,OAFoB,YAEpBA,OAFoB,WAGfH,IAAI,CAAGA,IAAH,CAAU,CAAEI,aAAa,CAAE,IAAjB,CAHC,CAG3BC,OAH2B,OAG1CD,aAH0C,CAKlD,MACI,gCAAS,SAAS,CAAC,SAAnB,EACI,0BAAI,SAAS,CAAC,yBAAd,kBADJ,CAEI,+BACKH,OAAO,EAAI,2BAAK,SAAS,CAAC,6BAAf,EAA6C,oBAAC,gBAAD,MAA7C,CADhB,CAEKC,KAAK,EAAI,uCAAWA,KAAX,CAFd,CAIQG,OAAO,EAEP,wCACKA,OAAO,CAACC,GAAR,CAAY,eAAwE,8BAAtEC,CAAAA,EAAsE,OAAtEA,EAAsE,CAAlEC,KAAkE,OAAlEA,KAAkE,CAA3DC,KAA2D,OAA3DA,KAA2D,CAApDC,oBAAoD,OAApDA,oBAAoD,CAA9BC,mBAA8B,OAA9BA,mBAA8B,CACjF,MACI,4BAAK,SAAS,CAAC,6BAAf,CAA6C,GAAG,CAAEJ,EAAlD,EACI,0BAAI,SAAS,CAAC,UAAd,EAA0BE,KAA1B,CADJ,CAEI,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAED,KAApC,CAA2C,GAAG,CAAEC,KAAhD,EAFJ,CAGI,qDAAKC,oBAAoB,CAAC,CAAD,CAAzB,gDAAK,sBAAyBE,KAAzB,CAA+BN,GAA/B,CAAmC,eAA2B,IAAxBO,CAAAA,MAAwB,OAAxBA,MAAwB,CAAhBC,IAAgB,OAAhBA,IAAgB,CACnE,MAAO,2BAAI,GAAG,CAAED,MAAT,EAAiB,6BAAIC,IAAJ,CAAjB,CAAP,CACC,CAFI,CAAL,CAHJ,CAOQ,CAAAf,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEgB,WAAN,GACA,6BACI,oBAAC,kBAAD,EACI,QAAQ,CAAER,EADd,CAEI,WAAW,CAAEE,KAFjB,CAGI,WAAW,CAAEE,mBAHjB,CAII,SAAS,CAAE,mBAACK,IAAD,QAAelB,CAAAA,OAAO,CAACmB,IAAR,2BAAgClB,IAAhC,SAAgCA,IAAhC,iBAAgCA,IAAI,CAAEgB,WAAN,CAAkBR,EAAlD,EAAf,EAJf,EADJ,CARR,CADJ,CAoBH,CArBA,CADL,CAuBI,6BACI,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,yBAAMJ,CAAAA,OAAO,EAAb,EAApC,YADJ,CAvBJ,CANR,CAFJ,CADJ,CAwCH,CAGD,cAAeN,CAAAA,YAAf","sourcesContent":["import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './RandomRecipe.css'\nimport CreateShoppingList from '../../shoppingList/create_shopping_list/CreateShoppingList';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { CircularProgress } from '@material-ui/core';\nimport { CURRENT_USER } from '../../navbar/authModule/auth_module_query';\n\nconst RECIPE = gql`\n    {\n      randomRecipes {\n        id\n        title\n        image\n        analyzedInstructions {\n          steps {\n            number\n            step\n          }\n        }\n        extendedIngredients {\n            id\n            original\n            amount\n            unit\n        }\n      }\n    }\n`\n\nfunction RandomRecipe({history}: RouteComponentProps) {\n    const { data: user } = useQuery(CURRENT_USER);\n    const { loading, error, data, refetch } = useQuery(RECIPE);\n    const { randomRecipes: recipes } = data ? data : { randomRecipes: null };\n\n    return (\n        <section className=\"section\">\n            <h1 className=\"title has-text-centered\">Random recipe</h1>\n            <div>\n                {loading && <div className=\"container has-text-centered\"><CircularProgress /></div>}\n                {error && <p>Error: {error}</p>}\n                {\n                    recipes\n                    &&\n                    <>\n                        {recipes.map(({id, image, title, analyzedInstructions, extendedIngredients}: any) => {\n                            return (\n                                <div className=\"container has-text-centered\" key={id}>\n                                    <h4 className=\"subtitle\">{title}</h4>\n                                    <img className=\"random-recipe\" src={image} alt={title}></img>\n                                    <ul>{analyzedInstructions[0]?.steps.map(({ number, step }: any) => {\n                                    return <li key={number}><p>{step}</p></li>\n                                    })}</ul>\n                                    {\n                                        user?.currentUser && \n                                        <p>\n                                            <CreateShoppingList\n                                                recipeId={id}\n                                                recipeTitle={title}\n                                                ingredients={extendedIngredients}\n                                                submitted={(resp: any) => history.push(`/shopping-lists/${user?.currentUser.id}`)}\n                                            />\n                                        </p>\n                                    }\n                                </div>\n                            );\n                        })}\n                        <p>\n                            <button className=\"button\" onClick={() => refetch()}>Another</button>\n                        </p>\n                    </>\n                }\n            </div>\n        </section>\n    )\n}\n\n\nexport default RandomRecipe;"]},"metadata":{},"sourceType":"module"}